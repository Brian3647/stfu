import svelte from"rollup-plugin-svelte";import commonjs from"@rollup/plugin-commonjs";import resolve from"@rollup/plugin-node-resolve";import livereload from"rollup-plugin-livereload";import sveltePreprocess from"svelte-preprocess";import typescript from"@rollup/plugin-typescript";import css from"rollup-plugin-css-only";const production=!process.env.ROLLUP_WATCH;function serve(){let e;function o(){e&&e.kill(0)}return{writeBundle(){e||(e=require("child_process").spawn("npm",["run","start","--","--dev"],{stdio:["ignore","inherit","inherit"],shell:!0}),process.on("SIGTERM",o),process.on("exit",o))}}}export default{input:"src/main.ts",output:{sourcemap:!0,format:"iife",name:"app",file:"public/build/bundle.js"},plugins:[svelte({preprocess:sveltePreprocess({sourceMap:!production}),compilerOptions:{dev:!production}}),css({output:"bundle.css"}),resolve({browser:!0,dedupe:["svelte"]}),commonjs(),typescript({sourceMap:!production,inlineSources:!production}),!production&&serve(),!production&&livereload("public")],watch:{clearScreen:!1}};